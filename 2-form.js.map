{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackFormEl = document.querySelector('.feedback-form');\n\nlet formData = {\n    email: '',\n    message: '',\n};\n\nconst fillFormFields = () => {\n    try {\n        const formDataFromLS = JSON.parse(localStorage.getItem(\"feedback-form-state\"));\n        if (formDataFromLS === null || formDataFromLS === undefined) { return; }\n     \n        if (typeof formDataFromLS === 'object') {\n            formData = formDataFromLS;\n        \n\n            for (const key in formData) {\n                if (formData.hasOwnProperty(key) && feedbackFormEl.elements[key]) {\n                    feedbackFormEl.elements[key].value = formData[key] || '';\n                };\n            }\n        }\n    }\n    \n    catch (err) {\n        console.log(err);\n}};\nfillFormFields();\n\nconst onFormFieldInput = event => {\n    const { target: formFieldEl } = event;\n\n    const fieldValue = formFieldEl.value;\n    const fieldName = formFieldEl.name;\n\n    formData[fieldName] = fieldValue.trim();\n\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData)); \n};\n\nconst onFeedbackFormSubmit = event => {\n    event.preventDefault();\n\n    const { currentTarget: formEl } = event;\n    if (!formData.email || !formData.message) {\n        alert('Fill please all fields') \n        return;\n    };\n    console.log(formData);\n    formEl.reset();\n    localStorage.removeItem('feedback-form-state');\n}\n\nfeedbackFormEl.addEventListener('input', onFormFieldInput);\nfeedbackFormEl.addEventListener('submit', onFeedbackFormSubmit);"],"names":["feedbackFormEl","formData","fillFormFields","formDataFromLS","key","err","onFormFieldInput","event","formFieldEl","fieldValue","fieldName","onFeedbackFormSubmit","formEl"],"mappings":"wFAAA,MAAMA,EAAiB,SAAS,cAAc,gBAAgB,EAE9D,IAAIC,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAEA,MAAMC,EAAiB,IAAM,CACzB,GAAI,CACA,MAAMC,EAAiB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAC7E,GAAIA,GAAmB,KAAwC,OAE/D,GAAI,OAAOA,GAAmB,SAAU,CACpCF,EAAWE,EAGX,UAAWC,KAAOH,EACVA,EAAS,eAAeG,CAAG,GAAKJ,EAAe,SAASI,CAAG,IAC3DJ,EAAe,SAASI,CAAG,EAAE,MAAQH,EAASG,CAAG,GAAK,GAGjE,CACJ,OAEMC,EAAK,CACR,QAAQ,IAAIA,CAAG,CACvB,CAAC,EACDH,IAEA,MAAMI,EAAmBC,GAAS,CAC9B,KAAM,CAAE,OAAQC,CAAa,EAAGD,EAE1BE,EAAaD,EAAY,MACzBE,EAAYF,EAAY,KAE9BP,EAASS,CAAS,EAAID,EAAW,KAAI,EAErC,aAAa,QAAQ,sBAAuB,KAAK,UAAUR,CAAQ,CAAC,CACxE,EAEMU,EAAuBJ,GAAS,CAClCA,EAAM,eAAc,EAEpB,KAAM,CAAE,cAAeK,CAAQ,EAAGL,EAClC,GAAI,CAACN,EAAS,OAAS,CAACA,EAAS,QAAS,CACtC,MAAM,wBAAwB,EAC9B,MACR,CACI,QAAQ,IAAIA,CAAQ,EACpBW,EAAO,MAAK,EACZ,aAAa,WAAW,qBAAqB,CACjD,EAEAZ,EAAe,iBAAiB,QAASM,CAAgB,EACzDN,EAAe,iBAAiB,SAAUW,CAAoB"}